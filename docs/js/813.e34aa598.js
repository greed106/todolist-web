"use strict";(self["webpackChunksecondvue"]=self["webpackChunksecondvue"]||[]).push([[813],{9813:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-container"},[t("UserLogin")],1)},r=[],a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-container"},[t("h2",{staticClass:"heading"},[e._v("登录")]),t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm},nativeOn:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[t("el-form-item",{staticClass:"form-item",attrs:{label:"用户名:",prop:"username"}},[t("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{staticClass:"form-item",attrs:{label:"密码:",prop:"password"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-form-item",{staticClass:"form-item"},[t("el-button",{staticClass:"login-button",attrs:{type:"primary","native-type":"submit"}},[e._v("登录")])],1)],1)],1)},n=[],i=(s(7658),{name:"UserLogin",data(){return{loginForm:{username:"",password:""}}},methods:{async handleSubmit(){try{if(!this.loginForm.username)return void this.$message.error("用户名不能为空");if(!this.loginForm.password)return void this.$message.error("密码不能为空");const e=await this.$axios.post("http://20.232.12.252:8080/todolist/login",this.loginForm),t=e.data;1===t.code?(console.log("登录成功:",t.data),localStorage.setItem("jwt",t.data),localStorage.setItem("username",this.loginForm.username),this.$axios.defaults.headers.common["Authorization"]=t.data,this.$router.push("/home")):this.$message.error(t.msg)}catch(e){console.error("登陆失败:",e),this.$message.error(e.response.data.msg)}}}}),l=i,m=s(1001),u=(0,m.Z)(l,a,n,!1,null,"7d41582c",null),c=u.exports,d={name:"LoginView",components:{UserLogin:c}},p=d,g=(0,m.Z)(p,o,r,!1,null,null,null),h=g.exports}}]);
//# sourceMappingURL=813.e34aa598.js.map